<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>1주차: 생성형 AI 이해 및 기초 활용 대시보드</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        /* Chart Container Styles - Responsive & Constrained */
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
            height: 300px;
            max-height: 400px;
        }
        @media (min-width: 768px) {
            .chart-container {
                height: 350px;
            }
        }
        /* Custom Scrollbar for cleaner look */
        ::-webkit-scrollbar {
            width: 8px;
        }
        ::-webkit-scrollbar-track {
            background: #f5f5f4;
        }
        ::-webkit-scrollbar-thumb {
            background: #d6d3d1;
            border-radius: 4px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: #a8a29e;
        }
        .fade-in {
            animation: fadeIn 0.5s ease-in;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
    </style>
    <!-- Chosen Palette: Warm Neutrals (Stone/Warm Gray) with Teal Accents for a calm, professional learning environment -->
    <!-- Application Structure Plan: 
         1. Header: Clear Title and Learning Objectives.
         2. Concept Zone (The Engine): Interactive visualization of Next-Token Prediction using a Chart.js probability graph to demystify "How AI thinks".
         3. Structure Zone (The Build): A toggle-based comparison of Pre-training vs. Fine-tuning.
         4. Safety Zone (The Brakes): An interactive checklist/card system for Hallucinations and Limitations.
         5. Interaction Zone (The Control): Interactive sliders and buttons to demonstrate Model Routing, Reasoning Effort, and Verbosity.
         6. Practical Zone (The Tools): A live "Markdown Playground" simulation and Settings checklist.
         Rationale: This dashboard structure breaks complex theory into "Try it yourself" modules, prioritizing understanding through interaction over passive reading.
    -->
    <!-- Visualization & Content Choices:
         1. Next-Token Prediction: Bar Chart (Chart.js) -> Shows probability distribution of the next word. Goal: Explain "Probabilistic nature".
         2. GPT Structure: Interactive Cards -> Click to expand Pre-training/Fine-tuning details. Goal: Organize structural knowledge.
         3. Interaction Concepts: Sliders & Buttons -> Simulates changing settings (Reasoning/Verbosity) and shows simulated output changes. Goal: Demonstrate "Change" and "Control".
         4. Markdown: Live Input/Preview -> Simple DOM manipulation to show immediate results. Goal: Skill acquisition.
         CONFIRMATION: NO SVG graphics used (FontAwesome used for icons). NO Mermaid JS used.
    -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
</head>
<body class="bg-stone-50 text-stone-800 font-sans antialiased selection:bg-teal-100 selection:text-teal-800">

    <!-- Navigation / Header -->
    <nav class="bg-white border-b border-stone-200 sticky top-0 z-50 shadow-sm">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between h-16">
                <div class="flex items-center">
                    <i class="fas fa-robot text-teal-600 text-2xl mr-3"></i>
                    <span class="font-bold text-xl tracking-tight text-stone-700">GenAI Learning Hub</span>
                </div>
                <div class="hidden md:flex space-x-8 items-center">
                    <a href="#concept" class="text-stone-500 hover:text-teal-600 transition-colors">개념 & 원리</a>
                    <a href="#concepts-3" class="text-stone-500 hover:text-teal-600 transition-colors">핵심 3요소</a>
                    <a href="#practice" class="text-stone-500 hover:text-teal-600 transition-colors">실전 도구</a>
                </div>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <header class="bg-white pb-10 pt-10">
        <div class="max-w-5xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
            <h1 class="text-3xl md:text-5xl font-extrabold text-stone-800 mb-4">
                1주차: 생성형 AI 이해 및 기초 활용
            </h1>
            <p class="text-lg text-stone-500 mb-8 max-w-2xl mx-auto">
                ChatGPT의 동작 원리부터 실무 활용을 위한 프롬프트 기초까지.<br>
                인터랙티브 학습을 통해 AI를 당신의 똑똑한 비서로 만들어보세요.
            </p>
            
            <!-- Learning Objectives Cards -->
            <div class="grid grid-cols-1 md:grid-cols-3 gap-4 text-left mt-8">
                <div class="p-5 bg-stone-50 rounded-xl border border-stone-100 hover:shadow-md transition-shadow">
                    <div class="flex items-center mb-3">
                        <div class="bg-teal-100 text-teal-600 rounded-full p-2 w-8 h-8 flex items-center justify-center mr-3 font-bold">1</div>
                        <h3 class="font-bold text-stone-700">원리 이해</h3>
                    </div>
                    <p class="text-sm text-stone-600">ChatGPT 동작 원리(Next-Token Prediction)와 GPT 구조 및 한계 파악</p>
                </div>
                <div class="p-5 bg-stone-50 rounded-xl border border-stone-100 hover:shadow-md transition-shadow">
                    <div class="flex items-center mb-3">
                        <div class="bg-teal-100 text-teal-600 rounded-full p-2 w-8 h-8 flex items-center justify-center mr-3 font-bold">2</div>
                        <h3 class="font-bold text-stone-700">소통 방식</h3>
                    </div>
                    <p class="text-sm text-stone-600">모델 라우팅, 추론 노력, 장황함 등 AI 제어 핵심 개념 습득</p>
                </div>
                <div class="p-5 bg-stone-50 rounded-xl border border-stone-100 hover:shadow-md transition-shadow">
                    <div class="flex items-center mb-3">
                        <div class="bg-teal-100 text-teal-600 rounded-full p-2 w-8 h-8 flex items-center justify-center mr-3 font-bold">3</div>
                        <h3 class="font-bold text-stone-700">기초 설정</h3>
                    </div>
                    <p class="text-sm text-stone-600">보안(Opt-out), 맞춤형 지침 설정 및 마크다운 활용법 실습</p>
                </div>
            </div>
        </div>
    </header>

    <main class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-12 space-y-20">

        <!-- Section 1: Concept & Principle -->
        <section id="concept" class="scroll-mt-20">
            <div class="text-center mb-10">
                <span class="bg-teal-50 text-teal-700 px-3 py-1 rounded-full text-xs font-semibold tracking-wide uppercase">Chapter 1</span>
                <h2 class="text-3xl font-bold text-stone-800 mt-2">생성형 AI는 어떻게 생각하나요?</h2>
                <p class="text-stone-500 mt-2 max-w-2xl mx-auto">
                    생성형 AI는 사실 '생각'을 하는 것이 아니라, 통계적으로 <strong>다음에 올 가장 적절한 단어</strong>를 예측합니다.<br>
                    이것을 <strong>Next-Token Prediction</strong>이라고 합니다.
                </p>
            </div>

            <div class="grid grid-cols-1 lg:grid-cols-2 gap-10 items-center">
                <!-- Text Content -->
                <div class="space-y-6">
                    <div class="bg-white p-6 rounded-2xl shadow-sm border border-stone-100">
                        <h3 class="text-xl font-bold text-stone-800 mb-2"><i class="fas fa-brain text-teal-500 mr-2"></i>GPT의 구조</h3>
                        <div class="space-y-4">
                            <div class="border-l-4 border-stone-300 pl-4 py-1 hover:border-teal-500 transition-colors cursor-pointer group" onclick="toggleInfo('pretrain')">
                                <h4 class="font-bold text-stone-700 group-hover:text-teal-600">1. 사전 학습 (Pre-training)</h4>
                                <p class="text-sm text-stone-500">방대한 데이터를 미리 학습하여 언어 능력을 갖춥니다.</p>
                                <div id="info-pretrain" class="hidden mt-2 text-sm text-stone-600 bg-stone-50 p-2 rounded">
                                    인터넷의 수많은 텍스트를 읽고 문법, 사실 관계, 추론 능력을 배웁니다.
                                </div>
                            </div>
                            <div class="border-l-4 border-stone-300 pl-4 py-1 hover:border-teal-500 transition-colors cursor-pointer group" onclick="toggleInfo('finetune')">
                                <h4 class="font-bold text-stone-700 group-hover:text-teal-600">2. 미세 조정 (Fine-tuning)</h4>
                                <p class="text-sm text-stone-500">사람의 피드백을 통해 대화에 최적화합니다.</p>
                                <div id="info-finetune" class="hidden mt-2 text-sm text-stone-600 bg-stone-50 p-2 rounded">
                                    인간이 원하는 유용하고 안전한 답변을 하도록 추가 학습합니다.
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="bg-red-50 p-6 rounded-2xl border border-red-100">
                        <h3 class="text-xl font-bold text-red-800 mb-2"><i class="fas fa-exclamation-triangle mr-2"></i>주의: 환각 현상 (Hallucination)</h3>
                        <p class="text-sm text-red-700 mb-3">AI는 사실이 아닌 정보를 그럴듯하게 지어낼 수 있습니다.</p>
                        <ul class="text-sm text-red-600 list-disc list-inside space-y-1">
                            <li>최신 정보 부족 (학습 시점 이후 데이터 모름)</li>
                            <li>없는 논문이나 판례를 생성할 수 있음</li>
                            <li><strong>대응:</strong> 반드시 멘토의 실무 경험으로 <span class="font-bold underline">검증(Cross-check)</span>해야 합니다.</li>
                        </ul>
                    </div>
                </div>

                <!-- Visualization -->
                <div class="bg-white p-6 rounded-2xl shadow-lg border border-stone-100">
                    <h4 class="font-bold text-stone-700 mb-4 text-center">Next-Token 예측 시뮬레이션</h4>
                    <p class="text-center text-sm text-stone-500 mb-4">문맥: "오늘 점심 메뉴는..." 다음에 올 단어 확률</p>
                    
                    <div class="chart-container">
                        <canvas id="tokenChart"></canvas>
                    </div>

                    <div class="mt-4 text-center">
                        <button onclick="predictNextToken()" class="bg-teal-600 hover:bg-teal-700 text-white font-bold py-2 px-6 rounded-full transition-all shadow-md active:transform active:scale-95">
                            다음 단어 예측하기 <i class="fas fa-arrow-right ml-2"></i>
                        </button>
                        <p id="prediction-result" class="mt-3 text-lg font-bold text-stone-800 h-8"></p>
                    </div>
                </div>
            </div>
        </section>

        <hr class="border-stone-200">

        <!-- Section 2: Core Concepts (3 Elements) -->
        <section id="concepts-3" class="scroll-mt-20">
            <div class="text-center mb-10">
                <span class="bg-teal-50 text-teal-700 px-3 py-1 rounded-full text-xs font-semibold tracking-wide uppercase">Chapter 2</span>
                <h2 class="text-3xl font-bold text-stone-800 mt-2">AI를 '똑똑한 비서'로 만드는 3가지 핵심</h2>
                <p class="text-stone-500 mt-2">
                    단순히 대화하는 것이 아니라, AI의 특성을 이해하고 제어해야 합니다.
                </p>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                
                <!-- Card 1: Model Routing -->
                <div class="bg-white rounded-2xl shadow-sm border border-stone-200 overflow-hidden flex flex-col">
                    <div class="bg-stone-100 p-4 border-b border-stone-200">
                        <h3 class="font-bold text-stone-800"><i class="fas fa-random text-teal-600 mr-2"></i>모델 라우팅</h3>
                        <p class="text-xs text-stone-500">Model Routing</p>
                    </div>
                    <div class="p-6 flex-grow flex flex-col justify-between">
                        <p class="text-sm text-stone-600 mb-4">
                            질문에 따라 코딩, 검색, 추론 등 가장 적합한 도구를 AI가 스스로 선택합니다.
                        </p>
                        <div class="bg-stone-50 p-3 rounded-lg border border-stone-200 text-center mb-4">
                            <span id="routing-display" class="font-mono text-sm font-bold text-stone-400">명령 대기 중...</span>
                        </div>
                        <div class="flex gap-2 justify-center">
                            <button onclick="simulateRouting('code')" class="flex-1 bg-white border border-stone-300 hover:border-teal-500 hover:text-teal-600 text-xs py-2 rounded transition-colors">코드 작성</button>
                            <button onclick="simulateRouting('math')" class="flex-1 bg-white border border-stone-300 hover:border-teal-500 hover:text-teal-600 text-xs py-2 rounded transition-colors">복잡한 계산</button>
                        </div>
                        <p class="text-xs text-stone-400 mt-3 text-center">Tip: 복잡할수록 구체적으로 지시하세요.</p>
                    </div>
                </div>

                <!-- Card 2: Reasoning Effort -->
                <div class="bg-white rounded-2xl shadow-sm border border-stone-200 overflow-hidden flex flex-col">
                    <div class="bg-stone-100 p-4 border-b border-stone-200">
                        <h3 class="font-bold text-stone-800"><i class="fas fa-brain text-teal-600 mr-2"></i>추론 노력</h3>
                        <p class="text-xs text-stone-500">Reasoning Effort</p>
                    </div>
                    <div class="p-6 flex-grow flex flex-col justify-between">
                        <p class="text-sm text-stone-600 mb-4">
                            AI가 답변 전에 '생각'하는 시간과 깊이입니다. 단계별 사고(CoT)를 유도하세요.
                        </p>
                        
                        <div class="mb-4">
                            <div class="flex justify-between text-xs text-stone-500 mb-1">
                                <span>빠른 답변</span>
                                <span>깊은 사고</span>
                            </div>
                            <input type="range" id="reasoning-slider" min="1" max="3" value="1" class="w-full h-2 bg-stone-200 rounded-lg appearance-none cursor-pointer accent-teal-600" oninput="updateReasoning()">
                        </div>

                        <div id="reasoning-output" class="bg-stone-50 p-3 rounded-lg border border-stone-200 text-xs text-stone-600 min-h-[60px]">
                            AI: "즉시 답을 드립니다."
                        </div>
                        <p class="text-xs text-stone-400 mt-3 text-center">Tip: "단계별로 생각해줘", "근거를 대줘"</p>
                    </div>
                </div>

                <!-- Card 3: Verbosity -->
                <div class="bg-white rounded-2xl shadow-sm border border-stone-200 overflow-hidden flex flex-col">
                    <div class="bg-stone-100 p-4 border-b border-stone-200">
                        <h3 class="font-bold text-stone-800"><i class="fas fa-comment-dots text-teal-600 mr-2"></i>장황함 제어</h3>
                        <p class="text-xs text-stone-500">Verbosity</p>
                    </div>
                    <div class="p-6 flex-grow flex flex-col justify-between">
                        <p class="text-sm text-stone-600 mb-4">
                            답변의 길이와 상세 정도를 조절합니다. 핵심만 원한다면 형식을 지정하세요.
                        </p>
                        
                        <div class="flex justify-center gap-2 mb-4">
                            <button onclick="setVerbosity('short')" class="px-3 py-1 text-xs rounded-full border border-stone-300 hover:bg-teal-50 hover:border-teal-500 focus:bg-teal-600 focus:text-white transition-all">짧게 (요약)</button>
                            <button onclick="setVerbosity('long')" class="px-3 py-1 text-xs rounded-full border border-stone-300 hover:bg-teal-50 hover:border-teal-500 focus:bg-teal-600 focus:text-white transition-all">길게 (상세)</button>
                        </div>

                        <div id="verbosity-output" class="bg-stone-50 p-3 rounded-lg border border-stone-200 text-xs text-stone-600 min-h-[60px] overflow-y-auto max-h-24">
                            (설정을 선택해주세요)
                        </div>
                        <p class="text-xs text-stone-400 mt-3 text-center">Tip: "3줄로 요약해줘", "핵심만 간단히"</p>
                    </div>
                </div>

            </div>
        </section>

        <hr class="border-stone-200">

        <!-- Section 3: Practical Tools & Settings -->
        <section id="practice" class="scroll-mt-20">
            <div class="text-center mb-10">
                <span class="bg-teal-50 text-teal-700 px-3 py-1 rounded-full text-xs font-semibold tracking-wide uppercase">Chapter 3</span>
                <h2 class="text-3xl font-bold text-stone-800 mt-2">실전 활용 도구</h2>
                <p class="text-stone-500 mt-2">
                    보안 설정부터 가독성 높은 보고서 작성을 위한 마크다운까지 직접 체험해보세요.
                </p>
            </div>

            <div class="grid grid-cols-1 lg:grid-cols-2 gap-10">
                
                <!-- Settings Checklist -->
                <div class="bg-white p-6 rounded-2xl shadow-sm border border-stone-100">
                    <h3 class="text-xl font-bold text-stone-800 mb-4"><i class="fas fa-cog text-stone-400 mr-2"></i>필수 환경 설정 체크리스트</h3>
                    
                    <div class="space-y-4">
                        <div class="flex items-start">
                            <div class="flex-shrink-0">
                                <input type="checkbox" id="opt-out" class="h-5 w-5 text-teal-600 border-stone-300 rounded focus:ring-teal-500 mt-1 cursor-pointer">
                            </div>
                            <div class="ml-3">
                                <label for="opt-out" class="font-bold text-stone-700 cursor-pointer">Opt-out (학습 제외)</label>
                                <p class="text-sm text-stone-500">보안을 위해 내 대화가 AI 학습에 쓰이지 않도록 설정합니다.</p>
                                <div class="mt-1 text-xs bg-stone-100 inline-block px-2 py-1 rounded text-stone-500">Settings > Data Controls > Chat history OFF</div>
                            </div>
                        </div>

                        <div class="flex items-start">
                            <div class="flex-shrink-0">
                                <input type="checkbox" id="custom-inst" class="h-5 w-5 text-teal-600 border-stone-300 rounded focus:ring-teal-500 mt-1 cursor-pointer">
                            </div>
                            <div class="ml-3">
                                <label for="custom-inst" class="font-bold text-stone-700 cursor-pointer">맞춤형 지침 (Custom Instructions)</label>
                                <p class="text-sm text-stone-500">"나는 누구인가(Who)", "어떻게 답변받길 원하나(How)"를 미리 설정합니다.</p>
                                <div class="mt-2 grid grid-cols-1 gap-2">
                                    <div class="text-xs bg-teal-50 p-2 rounded text-teal-800 border border-teal-100">
                                        <strong>Who:</strong> "나는 15년차 인사팀장이다."
                                    </div>
                                    <div class="text-xs bg-teal-50 p-2 rounded text-teal-800 border border-teal-100">
                                        <strong>How:</strong> "결론부터 말하고, 근거는 리스트로 정리해줘."
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Markdown Playground -->
                <div class="bg-white p-6 rounded-2xl shadow-sm border border-stone-100 flex flex-col">
                    <h3 class="text-xl font-bold text-stone-800 mb-4"><i class="fas fa-edit text-stone-400 mr-2"></i>마크다운(Markdown) 실습</h3>
                    <p class="text-sm text-stone-500 mb-4">버튼을 클릭하여 마크다운 문법이 어떻게 변환되는지 확인하세요.</p>
                    
                    <div class="grid grid-cols-2 gap-2 mb-4">
                        <button onclick="addMarkdown('# ')" class="bg-stone-100 hover:bg-stone-200 text-stone-700 text-xs font-bold py-2 px-4 rounded border border-stone-300">
                            # 제목 (Header)
                        </button>
                        <button onclick="addMarkdown('**강조** ')" class="bg-stone-100 hover:bg-stone-200 text-stone-700 text-xs font-bold py-2 px-4 rounded border border-stone-300">
                            **강조** (Bold)
                        </button>
                        <button onclick="addMarkdown('- 리스트 항목\n')" class="bg-stone-100 hover:bg-stone-200 text-stone-700 text-xs font-bold py-2 px-4 rounded border border-stone-300">
                            - 리스트 (List)
                        </button>
                        <button onclick="addMarkdown('| 구분 | 내용 |\n|---|---|\n| 예시 | 값 |')" class="bg-stone-100 hover:bg-stone-200 text-stone-700 text-xs font-bold py-2 px-4 rounded border border-stone-300">
                            | 표 | (Table)
                        </button>
                    </div>

                    <div class="grid grid-cols-1 sm:grid-cols-2 gap-4 flex-grow">
                        <div>
                            <label class="text-xs font-bold text-stone-400 block mb-1">입력 (Input)</label>
                            <textarea id="md-input" class="w-full h-32 p-3 text-sm border border-stone-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent font-mono bg-stone-50" placeholder="여기에 마크다운을 입력하세요..."># 주간 보고
**중요 사항**
- AI 교육 완료
- 보안 설정 점검</textarea>
                        </div>
                        <div>
                            <label class="text-xs font-bold text-teal-600 block mb-1">결과 미리보기 (Preview)</label>
                            <div id="md-preview" class="w-full h-32 p-3 text-sm border border-teal-200 rounded-lg bg-white overflow-y-auto prose prose-sm prose-stone">
                                <!-- Rendered Markdown will appear here -->
                            </div>
                        </div>
                    </div>
                </div>

            </div>
        </section>

    </main>

    <footer class="bg-stone-800 text-stone-400 py-10 mt-12">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
            <h2 class="text-white text-lg font-bold mb-4">1주차 교육 완료</h2>
            <p class="mb-6 max-w-2xl mx-auto">
                이제 생성형 AI의 기본 원리와 소통 방식을 이해했습니다.<br>
                실습 워크시트를 활용해 팀원들과 직접 프롬프트를 작성해보세요.
            </p>
            <div class="flex justify-center space-x-4">
                <span class="px-4 py-2 bg-stone-700 rounded-full text-xs">Model Routing</span>
                <span class="px-4 py-2 bg-stone-700 rounded-full text-xs">Reasoning Effort</span>
                <span class="px-4 py-2 bg-stone-700 rounded-full text-xs">Custom Instructions</span>
            </div>
            <p class="mt-8 text-xs text-stone-600">Generated for Educational Purpose based on Source Report.</p>
        </div>
    </footer>

    <!-- JavaScript Logic -->
    <script>
        // --- 1. Next-Token Prediction Chart Logic ---
        document.addEventListener('DOMContentLoaded', function() {
            const ctx = document.getElementById('tokenChart').getContext('2d');
            
            // Initial Data
            const initialData = {
                labels: ['김치찌개', '된장찌개', '파스타', '돈까스', '기타'],
                datasets: [{
                    label: '예측 확률 (%)',
                    data: [45, 30, 15, 8, 2],
                    backgroundColor: [
                        'rgba(20, 184, 166, 0.8)', // Teal
                        'rgba(214, 211, 209, 0.5)', 
                        'rgba(214, 211, 209, 0.5)',
                        'rgba(214, 211, 209, 0.5)',
                        'rgba(214, 211, 209, 0.5)'
                    ],
                    borderColor: [
                        'rgba(20, 184, 166, 1)',
                        'rgba(168, 162, 158, 1)',
                        'rgba(168, 162, 158, 1)',
                        'rgba(168, 162, 158, 1)',
                        'rgba(168, 162, 158, 1)'
                    ],
                    borderWidth: 1,
                    borderRadius: 5
                }]
            };

            window.tokenChart = new Chart(ctx, {
                type: 'bar',
                data: initialData,
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: { display: false },
                        tooltip: {
                            callbacks: {
                                label: function(context) {
                                    return context.parsed.y + '% 확률';
                                }
                            }
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: true,
                            max: 100,
                            grid: { display: false }
                        },
                        x: {
                            grid: { display: false }
                        }
                    },
                    animation: {
                        duration: 1000
                    }
                }
            });

            // Markdown Init
            updateMarkdownPreview();
            document.getElementById('md-input').addEventListener('input', updateMarkdownPreview);
        });

        // Function to simulate prediction
        function predictNextToken() {
            const resultEl = document.getElementById('prediction-result');
            const btn = document.querySelector('button[onclick="predictNextToken()"]');
            
            btn.disabled = true;
            btn.classList.add('opacity-50', 'cursor-not-allowed');
            resultEl.innerHTML = '<span class="text-teal-500"><i class="fas fa-spinner fa-spin"></i> 계산 중...</span>';

            // Simulate randomness
            setTimeout(() => {
                // New random data
                const newData = Array.from({length: 5}, () => Math.floor(Math.random() * 100));
                const sum = newData.reduce((a, b) => a + b, 0);
                const normalizedData = newData.map(val => Math.round((val / sum) * 100));
                
                // Find highest
                const maxVal = Math.max(...normalizedData);
                const maxIndex = normalizedData.indexOf(maxVal);
                
                // Update Chart Colors
                const newColors = normalizedData.map((val, idx) => 
                    idx === maxIndex ? 'rgba(20, 184, 166, 0.8)' : 'rgba(214, 211, 209, 0.5)'
                );

                window.tokenChart.data.datasets[0].data = normalizedData;
                window.tokenChart.data.datasets[0].backgroundColor = newColors;
                window.tokenChart.update();

                // Show Text Result
                const labels = window.tokenChart.data.labels;
                resultEl.innerHTML = `예측 결과: <span class="text-teal-600 bg-teal-50 px-2 rounded">"${labels[maxIndex]}"</span> (확률: ${maxVal}%)`;
                
                btn.disabled = false;
                btn.classList.remove('opacity-50', 'cursor-not-allowed');
            }, 800);
        }

        // --- 2. Info Toggle Logic ---
        function toggleInfo(id) {
            const el = document.getElementById(`info-${id}`);
            if (el.classList.contains('hidden')) {
                el.classList.remove('hidden');
                el.classList.add('fade-in');
            } else {
                el.classList.add('hidden');
                el.classList.remove('fade-in');
            }
        }

        // --- 3. Interaction Simulations ---
        
        // Model Routing
        function simulateRouting(type) {
            const display = document.getElementById('routing-display');
            if (type === 'code') {
                display.innerHTML = '<span class="text-purple-600"><i class="fas fa-code"></i> 코딩 전문 모델 활성화</span>';
                display.className = "bg-purple-50 p-3 rounded-lg border border-purple-200 text-center mb-4 transition-all";
            } else if (type === 'math') {
                display.innerHTML = '<span class="text-blue-600"><i class="fas fa-calculator"></i> 수학/추론 모델 활성화</span>';
                display.className = "bg-blue-50 p-3 rounded-lg border border-blue-200 text-center mb-4 transition-all";
            }
        }

        // Reasoning Effort
        function updateReasoning() {
            const val = document.getElementById('reasoning-slider').value;
            const output = document.getElementById('reasoning-output');
            
            if (val == 1) {
                output.innerHTML = '<strong>[빠른 답변]</strong><br>서울의 수도는 서울입니다.';
                output.className = "bg-stone-50 p-3 rounded-lg border border-stone-200 text-xs text-stone-600 min-h-[60px] transition-all";
            } else if (val == 2) {
                output.innerHTML = '<strong>[중간 사고]</strong><br>대한민국의 수도는 서울입니다. 역사적으로 조선시대부터 수도 역할을 해왔습니다.';
                output.className = "bg-teal-50 p-3 rounded-lg border border-teal-200 text-xs text-stone-700 min-h-[60px] transition-all";
            } else {
                output.innerHTML = '<strong>[깊은 추론 (Chain of Thought)]</strong><br>1. 질문 분석: 한국 수도 확인<br>2. 정보 검색: 헌법 및 관습법 검토<br>3. 결론 도출: 서울특별시입니다.';
                output.className = "bg-teal-100 p-3 rounded-lg border border-teal-300 text-xs text-stone-800 min-h-[60px] transition-all";
            }
        }

        // Verbosity
        function setVerbosity(type) {
            const output = document.getElementById('verbosity-output');
            if (type === 'short') {
                output.innerHTML = '<strong>[요약]</strong><br>- 생성형 AI는 확률적 예측 도구임.<br>- 환각 현상 주의 필요.';
            } else {
                output.innerHTML = '<strong>[상세]</strong><br>생성형 AI는 대규모 데이터를 학습하여 다음에 올 단어를 예측하는 Next-Token Prediction 방식을 사용합니다. 다만, 사실이 아닌 정보를 생성하는 환각(Hallucination) 현상이 발생할 수 있으므로 멘토의 검증이 필수적입니다.';
            }
        }

        // --- 4. Markdown Playground Logic ---
        function addMarkdown(syntax) {
            const input = document.getElementById('md-input');
            const start = input.selectionStart;
            const end = input.selectionEnd;
            const text = input.value;
            const before = text.substring(0, start);
            const after = text.substring(end, text.length);
            
            input.value = before + syntax + after;
            input.focus();
            updateMarkdownPreview();
        }

        function updateMarkdownPreview() {
            const input = document.getElementById('md-input').value;
            const preview = document.getElementById('md-preview');
            
            // Simple Regex-based Markdown Parser for demo purposes
            let html = input
                .replace(/^# (.*$)/gim, '<h1 class="text-lg font-bold text-stone-800 border-b border-stone-200 pb-1 mb-2">$1</h1>') // H1
                .replace(/\*\*(.*)\*\*/gim, '<strong class="text-teal-700">$1</strong>') // Bold
                .replace(/^- (.*$)/gim, '<li class="ml-4 list-disc text-stone-600">$1</li>') // List
                .replace(/\n/gim, '<br>') // Line break
                .replace(/\|(.*)\|/gim, function(match) { // Simple Table Row detection
                    const cells = match.split('|').filter(c => c.trim() !== '');
                    if (match.includes('---')) return ''; // Skip separator row for visual simplicity in demo
                    return `<div class="grid grid-cols-${cells.length} gap-2 border-b border-stone-100 py-1">${cells.map(c => `<span class="px-1">${c}</span>`).join('')}</div>`;
                });

            preview.innerHTML = html;
        }

    </script>
</body>
</html>